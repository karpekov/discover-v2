{
  "comment": "Milan baseline model with CACHED EmbeddingGemma embeddings and window size 50 - FAST TRAINING VERSION",

  "text_model_name": "google/embeddinggemma-300m",
  "text_backend": "sentence_transformers",
  "text_prompt_mode": "retrieval",
  "text_output_dim": 512,
  "use_text_proj_head": true,
  "use_cached_embeddings": true,
  "text_embeddings_cache_path": "data/processed/casas/milan/milan_training_50/gemma_embeddings_cache.pkl",
  "use_fallback_encoder": false,

  "d_model": 512,
  "n_layers": 4,
  "n_heads": 8,
  "d_ff": 2048,
  "dropout": 0.3,
  "fourier_bands": 12,
  "max_seq_len": 512,
  "sequence_length": 50,
  "max_captions": 4,
  "caption_types": "long",

  "batch_size": 64,
  "learning_rate": 2e-4,
  "betas": [0.9, 0.98],
  "weight_decay": 0.01,
  "warmup_ratio": 0.1,
  "max_epochs": 8,
  "grad_clip_norm": 1.0,

  "mlm_weight": 0.3,
  "clip_weight": 0.7,
  "temperature_init": 0.03,
  "learnable_temperature": true,

  "use_hard_negatives": true,
  "hard_negative_memory_size": 2048,
  "hard_negative_ratio": 0.3,
  "hard_negative_strategy": "mixed",
  "hard_negative_sampling_temperature": 0.1,

  "mask_prob": 0.3,
  "mean_span_length": 5.0,

  "enable_field_blackout": true,
  "p_transition_seed": 0.3,
  "strict_corr_mask": true,
  "adaptive_mask": true,
  "mask_acc_threshold": 0.97,
  "adaptive_window_steps": 100,

  "log_interval": 25,
  "val_interval": 500,
  "save_interval": 1000,
  "metrics_interval": 90000,
  "metrics_sample_size": 1000,
  "output_dir": "src-v2/trained_models/milan_gemma_50_cached",

  "use_wandb": true,
  "wandb_project": "discover-v2",
  "wandb_name": "milan_gemma_50_cached",
  "wandb_tags": ["milan", "embeddinggemma", "cached-embeddings", "window-50", "small-model", "8-epochs", "fast-training"],
  "wandb_notes": "Milan baseline with CACHED EmbeddingGemma embeddings for fast training. Pre-computed embeddings with learnable projection head (768->512). Should be much faster than computing embeddings on-the-fly.",
  "wandb_group": "milan",

  "train_data_path": "data/processed/casas/milan/milan_training_50/train.json",
  "val_data_path": "data/processed/casas/milan/milan_training_50/test.json",
  "vocab_path": "data/processed/casas/milan/milan_training_50/vocab.json",

  "use_amp": false,
  "gradient_checkpointing": false,
  "num_workers": 4
}
